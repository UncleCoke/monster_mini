<view class="padding-sp">
    <view class="text-sp text-bold margin-bottom-sm">
        评测试卷:
        <text class="text-blue">{{list.length}}份</text>
    </view>
    <empty wx:if="{{list.length === 0}}" title="暂无评测试卷"></empty>
    <view wx:for="{{list}}" wx:key="id" class="padding-top-lg padding-lr bg-white radius-sp margin-bottom-sm" id="{{item.id}}" bind:tap="evalDetail">
        <view class="flex align-center margin-bottom-lg">
            <image src="{{imgUrl + (item.subject === '语文'?'icon_chinese':item.subject === '数学'?'icon_math':'icon_english')+'.png'}}" style="width:40rpx;" mode="widthFix" />
            <view class="margin-left-sm text-sp text-bold">
                <text class="margin-right-xs">{{item.subject}}</text>
                {{item.textbook}}
            </view>
        </view>
        <view class="margin-bottom-lg flex align-center" wx:if="{{item.evalType!=0 || (item.evalType==0 && item.units.length == 1)}}">
            <view class="margin-right-lg">题目范围</view>
            <view class="picker-shape middle hover">{{item.evalType==2?'期末测评':'期中测评'}}</view>
        </view>
        <view class="margin-bottom-lg" wx:else>
            <view class="flex align-center justify-between margin-bottom-sm">
                <view>题目范围</view>
                <image src="{{imgUrl}}{{isShowAll?'up':'down'}}.png" mode="widthFix" style="width:40rpx" catchtap="setIsShowAll"  wx:if="{{item.units.length >2}}"/>
            </view>
            <view class="flex align-center justify-between flex-wrap">
                <view class="picker-shape middle hover margin-top-sm" wx:for="{{isShowAll?item.units:item.intiUnits}}" wx:for-item="unit" wx:key="unit">
                    {{unit}}
                </view>
            </view>
        </view>
        <view class="padding-top-sm padding-bottom-lg solid-bottom flex align-center justify-between">
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-olive light">{{item.userCount}}</view>
                <view class="text-sm">打开人数</view>
            </view>
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-greenSecond light">{{item.openCount}}</view>
                <view class="text-sm">打开次数</view>
            </view>
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-greenThird light">{{item.finishCount}}</view>
                <view class="text-sm">完成人数</view>
            </view>
        </view>
        <view class="padding-tb flex align-center justify-between">
            <view class="colorT-sp sm">
                <text class="cuIcon-timefill margin-right-xs"></text>
                {{item.created_at}}
            </view>
            <button class="cu-btn round bg-blue sm" style="min-width:100rpx;">详情</button>
        </view>
    </view>
</view>
<view class="cu-bar bg-white tabbar border shop foot">
    <view class="btn-group">
        <button class="cu-btn lg bg-white flex-sub" bindtap="back">返回</button>
        <button class="cu-btn lg bg-blue sp margin-right" bind:tap="createEval">新建评测</button>
    </view>
</view>