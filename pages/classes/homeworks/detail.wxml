<view class="page-sp">
    <view class="bg-white margin-bottom-sm padding-tb padding-lr-lg">
        <view class="flex align-center justify-between margin-bottom">
            <view class="flex align-center padding-bottom-sm">
                <image src="{{classImgUrl}}icon_work.png" style="width:42rpx;" mode="widthFix" />
                <view class="margin-left-xs text-sp text-bold">{{homework.title}}</view>
            </view>
            <view class="text-sm colorF-sp">
                由
                <text class="text-blue">{{homework.teacherName}}</text>
                布置
            </view>
        </view>
        <view class="padding-tb flex flex-wrap justify-start align-center">
            <view class="text-sp margin-right-lg">作业类型</view>
            <view class="cu-tag bg-{{homework.type==2?'purple':(homework.type==3?'cyan':'orange')}} light round">
                {{homework.type==2?'组题练习':(homework.type==3?'课时练习':'单元测验')}}
            </view>
        </view>
        <view class="flex flex-wrap justify-start align-center">
            <view class="text-sp margin-right-lg">单元课时</view>
            <view class="cu-tag bg-blue light round">{{homework.unitName}}</view>
        </view>
        <view class="padding-top-lg padding-bottom solid-bottom flex align-center justify-between padding-lr-xl">
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-olive light">{{homework.questionNum}}</view>
                <view class="text-sm">题目数量</view>
            </view>
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-{{homework.unFinishedNum==0?'greenSecond':(homework.finishedNum>=homework.unFinishedNum?'greenSecond':'red')}} light">
                    {{homework.finishedNum}}
                </view>
                <view class="text-sm">完成人数</view>
            </view>
            <view class="flex align-center justify-center flex-direction">
                <view class="content-shape bg-greenThird light">{{homework.accuracy}}</view>
                <view class="text-sm">平均得分</view>
            </view>
        </view>
        <view class="flex align-center justify-between text-sm padding-top colorT-sp">
            <view>截止时间：{{homework.ends_at}}</view>
        </view>
    </view>
    <view class="bg-white text-sp padding-bottom-lg  padding-lr-lg padding-top margin-bottom-sm">
        <view class="flex align-center padding-bottom-sm">
            <image src="{{classImgUrl}}icon_finish.png" style="width:40rpx;" mode="widthFix" />
            <view class="margin-left-sm text-sp text-bold">完成人数：</view>
            <view class="cu-tag bg-blue light round text-bold">{{submitedList.length}}人</view>
        </view>
        <view class="panel margin-top-sm padding-lg" wx:for="{{submitedList}}" wx:key="userId" data-userid="{{item.userId}}" data-index="{{index}}" bind:tap="report">
            <view class="flex align-center justify-between margin-bottom-sm">
                <view class="flex align-center">
                    <view class="cu-avatar round lg" style="background-image:url({{item.imgUserAvatar}});"></view>
                    <view class="padding-left-sm">
                        <view class="margin-bottom-sm">{{item.nickName}}</view>
                        <view class="cu-tag tag-sp bg-{{item.score>=60?'blue':'red'}} light round">
                            分数: {{item.score}}
                        </view>
                        <view class="cu-tag tag-sp bg-blue light round margin-left-sm">
                            耗时: {{item.spendTime}}
                        </view>
                    </view>
                </view>
                <view class="cuIcon-right text-lg" style="color:#ccc"></view>
            </view>
        </view>
    </view>
    <view class="bg-white text-sp padding-bottom-lg  padding-lr-lg padding-top">
        <view class="flex align-center padding-bottom-sm">
            <image src="{{classImgUrl}}icon_warn.png" style="width:40rpx;" mode="widthFix" />
            <view class="margin-left-sm text-sp text-bold">未完成人数：</view>
            <view class="cu-tag bg-red light round text-bold">{{unSubmitList.length}}人</view>
        </view>
        <view class="panel margin-top-sm padding-lg" wx:for="{{unSubmitList}}">
            <view class="flex align-center justify-between margin-bottom-sm">
                <view class="flex align-center">
                    <view class="cu-avatar round lg" style="background-image:url({{item.imgUserAvatar}});"></view>
                    <view class="padding-left-sm">
                        <view class="margin-bottom-sm">{{item.nickName}}</view>
                        <view wx:if="{{!item.wxOpenId}}" class="colorF-sp text-xs">
                            未关注公众号，无法接收作业提醒
                        </view>
                    </view>
                </view>
                <button class="cu-btn bg-red light sm round submit" id="warn" data-name="{{item.nickName}}" open-type="share">
                    提醒
                </button>
            </view>
        </view>
    </view>
</view>
<view class="cu-bar bg-white tabbar border shop foot">
    <view class="btn-group">
        <button class="cu-btn bg-white flex-sub" bind:tap="back">返回</button>
        <button class="cu-btn bg-blue light btn-sp margin-right-sm" data-id="{{eval.id}}" bind:tap="delete">
            删除作业
        </button>
        <button wx:if="{{unSubmitList.length>0}}" class="cu-btn bg-blue btn-sp margin-right" id="notify" bind:tap="warn">
            一键催交
        </button>
    </view>
</view>