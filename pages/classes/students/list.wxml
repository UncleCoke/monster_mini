<view class="tabs">
    <view class="bar bg-white radius-sp flex align-center">
        <view class="flex-sub text-center text-bold text-sp {{activeIndex == index?'hover':''}}" wx:for="{{tabs}}" wx:key="*this" bindtap="tabSelect" data-index="{{index}}">
            {{item}}
        </view>
    </view>
</view>
<!-- 学生 -->
<block wx:if="{{activeIndex == 0}}">
    <view class="padding-sp">
        <view class="flex align-center justify-between padding-bottom-lg">
            <view class="flex align-center">
                <text class="text-sp text-bold">学生总数：</text>
                <view class="cu-tag bg-blue light round text-bold">{{studentList.length}}人</view>
            </view>
        </view>
        <empty wx:if="{{studentList.length === 0}}" title="暂无学生"></empty>
        <view wx:for="{{studentList}}" wx:key="userId" class="panel padding-top-lg padding-lr-lg padding-bottom margin-bottom text-sp" data-id="{{item.id}}" data-token="{{item.token}}" data-index="{{index}}" bind:tap="{{item.status>0?'report':(item.status==0?'check':'')}}">
            <view class="flex align-center justify-between margin-bottom-sm">
                <view class="flex align-center">
                    <view class="cu-avatar round lg" style="background-image:url({{item.avatarUrl}});"></view>
                    <view class="padding-left-sm">
                        <view class="margin-bottom-sm">{{item.nickName}}</view>
                        <view class="text-sm colorT-sp">最后登录时间：{{item.lastLoginTime}}</view>
                    </view>
                </view>
                <block wx:if="{{masterId == teacherId}}">
                    <view class="text-green text-xs" wx:if="{{item.status == 0}}">待审核</view>
                    <view class="text-red text-xs" wx:elif="{{item.status == -2}}">待付费</view>
                    <view class="cuIcon-right colorT-sp" wx:else></view>
                </block>
            </view>
        </view>
    </view>
    <view class="cu-bar bg-white tabbar border shop foot">
        <view class="btn-group">
            <button class="cu-btn lg bg-white flex-sub" bindtap="back">返回</button>
            <button class="cu-btn lg bg-blue sp margin-right" wx:if="{{masterId == teacherId}}" open-type="share">
                邀请学生加入
            </button>
        </view>
    </view>
</block>
<!-- 分组 -->
<block wx:else>
    <view class="padding-sp">
        <view class="flex align-center justify-between padding-bottom-lg">
            <view class="flex align-center">
                <text class="text-sp text-bold">小组个数：</text>
                <view class="cu-tag bg-blue light round text-bold">{{groupList.length}}人</view>
            </view>
        </view>
        <empty wx:if="{{groupList.length === 0}}" title="暂无小组"></empty>
        <view wx:for="{{groupList}}" wx:key="userId" class="panel padding-top-lg padding-lr-lg padding-bottom margin-bottom text-sp" bindtap="gotoGroup" data-type="edit" data-group="{{item}}">
            <view class="flex align-center justify-between margin-bottom-sm">
                <view class="flex align-center">
                    <view class="cu-avatar round lg bg-gradual-orange">{{item.name[0]}}</view>
                    <view class="padding-left-sm">
                        <view class="margin-bottom-sm">{{item.name}}</view>
                        <view class="flex align-center" wx:if="{{item.studentList.length>0}}">
                            <view class="cu-avatar-group" style="padding-left:18rpx;">
                                <view class="cu-avatar round sm" wx:for="{{item.studentList}}" wx:key="id" wx:for-item="student" style="background-image:url({{student.avatarUrl}});" wx:if="{{index < 5}}"></view>
                            </view>
                            <view class="text-sm text-grey">
                                {{item.studentList[0].nickName}}等{{item.studentList.length}}人
                            </view>
                        </view>
                    </view>
                </view>
                <view class="cuIcon-right colorT-sp"></view>
            </view>
        </view>
    </view>
    <view class="cu-bar bg-white tabbar border shop foot">
        <view class="btn-group">
            <button class="cu-btn lg bg-white flex-sub" bindtap="back">返回</button>
            <button class="cu-btn lg bg-blue sp margin-right" bindtap="gotoGroup" data-type="add" wx:if="{{masterId == teacherId}}">
                新增小组
            </button>
        </view>
    </view>
</block>